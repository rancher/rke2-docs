"use strict";(self.webpackChunkrke_2_docs=self.webpackChunkrke_2_docs||[]).push([[594],{2540:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>r,metadata:()=>l,toc:()=>a});var s=n(5893),t=n(1151);const r={title:"FIPS 140-2 Enablement"},o=void 0,l={id:"security/fips_support",title:"FIPS 140-2 Enablement",description:"FIPS 140-2 is a U.S. Federal Government security standard used to approve cryptographic modules. This document explains how RKE2 is built with FIPS validated cryptographic libraries.",source:"@site/docs/security/fips_support.md",sourceDirName:"security",slug:"/security/fips_support",permalink:"/security/fips_support",draft:!1,unlisted:!1,editUrl:"https://github.com/rancher/rke2-docs/edit/main/docs/security/fips_support.md",tags:[],version:"current",lastUpdatedAt:1701109671,formattedLastUpdatedAt:"Nov 27, 2023",frontMatter:{title:"FIPS 140-2 Enablement"},sidebar:"mySidebar",previous:{title:"CIS 1.23 Self-Assessment Guide",permalink:"/security/cis_self_assessment123"},next:{title:"Default Pod Security Policies",permalink:"/security/pod_security_policies"}},c={},a=[{value:"Use of FIPS Compatible Go compiler.",id:"use-of-fips-compatible-go-compiler",level:2},{value:"FIPS Support in Cluster Components",id:"fips-support-in-cluster-components",level:3},{value:"Runtime",id:"runtime",level:2},{value:"CNI",id:"cni",level:2},{value:"Ingress",id:"ingress",level:2}];function d(e){const i={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",ul:"ul",...(0,t.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.p,{children:"FIPS 140-2 is a U.S. Federal Government security standard used to approve cryptographic modules. This document explains how RKE2 is built with FIPS validated cryptographic libraries."}),"\n",(0,s.jsx)(i.h2,{id:"use-of-fips-compatible-go-compiler",children:"Use of FIPS Compatible Go compiler."}),"\n",(0,s.jsxs)(i.p,{children:["The Go compiler in use can be found ",(0,s.jsx)(i.a,{href:"https://go.googlesource.com/go/+/dev.boringcrypto",children:"here"}),". Each component of the system is built with the version of this compiler that matches the same standard Go compiler version that would be used otherwise."]}),"\n",(0,s.jsxs)(i.p,{children:["This version of Go replaces the standard Go crypto libraries with the FIPS validated BoringCrypto module. See GoBoring's ",(0,s.jsx)(i.a,{href:"https://github.com/golang/go/blob/dev.boringcrypto/README.boringcrypto.md",children:"readme"})," for more details. This module was originally validated by NIST as the ",(0,s.jsx)(i.a,{href:"https://csrc.nist.gov/projects/cryptographic-module-validation-program/certificate/3836",children:"Rancher Kubernetes Cryptographic Library"})," in order to ensure support on a wider range of systems. However, due to changes introduced by SP 800-56A Rev3, this validation is now historical. A re-validation effort is currently underway to return this module to active FIPS 140-2 status."]}),"\n",(0,s.jsx)(i.h3,{id:"fips-support-in-cluster-components",children:"FIPS Support in Cluster Components"}),"\n",(0,s.jsx)(i.p,{children:"Most of the components of the RKE2 system are statically compiled with the GoBoring Go compiler implementation. RKE2, from a component perspective, is broken up in a number of sections. The list below contains the sections and associated components."}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"Kubernetes"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"API Server"}),"\n",(0,s.jsx)(i.li,{children:"Controller Manager"}),"\n",(0,s.jsx)(i.li,{children:"Scheduler"}),"\n",(0,s.jsx)(i.li,{children:"Kubelet"}),"\n",(0,s.jsx)(i.li,{children:"Kube Proxy"}),"\n",(0,s.jsx)(i.li,{children:"Metric Server"}),"\n",(0,s.jsx)(i.li,{children:"Kubectl"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"Helm Charts"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Flannel"}),"\n",(0,s.jsx)(i.li,{children:"Calico"}),"\n",(0,s.jsx)(i.li,{children:"CoreDNS"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"runtime",children:"Runtime"}),"\n",(0,s.jsx)(i.p,{children:"To ensure that all aspects of the system architecture are using FIPS 140-2 compliant algorithm implementations, the RKE2 runtime contains utilities statically compiled with the FIPS enabled Go compiler for FIPS 140-2 compliance. This ensures that all levels of the stack are compliant from Kubernetes daemons to container orchestration mechanics."}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"etcd"}),"\n",(0,s.jsxs)(i.li,{children:["containerd","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"containerd-shim"}),"\n",(0,s.jsx)(i.li,{children:"containerd-shim-runc-v1"}),"\n",(0,s.jsx)(i.li,{children:"containerd-shim-runc-v2"}),"\n",(0,s.jsx)(i.li,{children:"ctr"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.li,{children:"crictl"}),"\n",(0,s.jsx)(i.li,{children:"runc"}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"cni",children:"CNI"}),"\n",(0,s.jsxs)(i.p,{children:["As of v1.21.2, RKE2 supports selecting a different CNI via the ",(0,s.jsx)(i.code,{children:"--cni"})," flag and comes bundled with several CNIs including Canal (default), Calico, Cilium, and Multus. Of these, only Canal (the default) is rebuilt for FIPS compliance."]}),"\n",(0,s.jsx)(i.h2,{id:"ingress",children:"Ingress"}),"\n",(0,s.jsx)(i.p,{children:"RKE2 ships with NGINX as its default ingress provider. As of v1.21+, this component is FIPS compliant. There are two primary sub-components for NGINX ingress:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"controller - responsible for monitoring/updating Kubernetes resources and configuring the server accordingly"}),"\n",(0,s.jsx)(i.li,{children:"server - responsible for accepting and routing traffic"}),"\n"]}),"\n",(0,s.jsxs)(i.p,{children:["The controller is written in Go and as such is compiled using our ",(0,s.jsx)(i.a,{href:"/security/fips_support#use-of-fips-compatible-go-compiler",children:"FIPS compatible Go compiler"}),"."]}),"\n",(0,s.jsx)(i.p,{children:"The server is written in C and also requires OpenSSL to function properly. As such, it leverages a FIPS-validated version of OpenSSL to achieve FIPS compliance."})]})}function p(e={}){const{wrapper:i}={...(0,t.a)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},1151:(e,i,n)=>{n.d(i,{Z:()=>l,a:()=>o});var s=n(7294);const t={},r=s.createContext(t);function o(e){const i=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(r.Provider,{value:i},e.children)}}}]);